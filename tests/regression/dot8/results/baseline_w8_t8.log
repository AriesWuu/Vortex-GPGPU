/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n64
open device connection
data type: float
matrix size: 64x64
allocate device memory
A_addr=0x10000
B_addr=0x14000
C_addr=0x18000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 2447 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=511516, cycles=419866, IPC=1.218284
PERF: core1: instrs=511516, cycles=419867, IPC=1.218281
PERF: core2: instrs=511516, cycles=419865, IPC=1.218287
PERF: core3: instrs=511516, cycles=419864, IPC=1.218290
PERF: instrs=2046064, cycles=419867, IPC=4.873124
PASSED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
data type: float
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x50000
C_addr=0x90000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 213338 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=29996572, cycles=19864009, IPC=1.510097
PERF: core1: instrs=29996572, cycles=19864007, IPC=1.510097
PERF: core2: instrs=29996572, cycles=19864008, IPC=1.510097
PERF: core3: instrs=29996572, cycles=19864006, IPC=1.510097
PERF: instrs=119986288, cycles=19864009, IPC=6.040386
PASSED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
data type: int8_t
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x20000
C_addr=0x30000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 100521 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=42579484, cycles=22154915, IPC=1.921898
PERF: core1: instrs=42579484, cycles=22154902, IPC=1.921899
PERF: core2: instrs=42579484, cycles=22160642, IPC=1.921401
PERF: core3: instrs=42579484, cycles=22111548, IPC=1.925667
PERF: instrs=170317936, cycles=22160642, IPC=7.685605
PASSED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
input type: int8_t
output type: int32_t
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x20000
C_addr=0x30000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 106024 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=42612252, cycles=22323573, IPC=1.908846
PERF: core1: instrs=42612252, cycles=22323071, IPC=1.908888
PERF: core2: instrs=42612252, cycles=22323830, IPC=1.908823
PERF: core3: instrs=42612252, cycles=22323632, IPC=1.908840
PERF: instrs=170449008, cycles=22323830, IPC=7.635294
PASSED!
