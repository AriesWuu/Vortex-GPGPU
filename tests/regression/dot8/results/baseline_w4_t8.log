/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
data type: float
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x50000
C_addr=0x90000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 148206 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=29989788, cycles=20214382, IPC=1.483587
PERF: core1: instrs=29989788, cycles=20138898, IPC=1.489147
PERF: core2: instrs=29989788, cycles=20138895, IPC=1.489148
PERF: core3: instrs=29989788, cycles=20138896, IPC=1.489148
PERF: instrs=119959152, cycles=20214382, IPC=5.934347
PASSED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
data type: float
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x50000
C_addr=0x90000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 116495 ms
download destination buffer
verify result
*** error: [0] expected=64.079666, actual=220616859668360760684964637436805120.000000
*** error: [1] expected=64.926483, actual=-22799674977026048.000000
*** error: [2] expected=71.754028, actual=-0.000000
*** error: [3] expected=66.608093, actual=1107577120277403758143471616.000000
*** error: [4] expected=65.747505, actual=61533416.000000
*** error: [5] expected=63.366634, actual=45898292562755584.000000
*** error: [6] expected=67.271729, actual=0.000000
*** error: [7] expected=66.053329, actual=0.000000
*** error: [8] expected=66.011131, actual=-778784210151809964125679989555200.000000
*** error: [9] expected=69.023026, actual=-0.000000
*** error: [10] expected=64.017715, actual=-0.000000
*** error: [11] expected=66.395264, actual=101441798193282458378502632183431168.000000
*** error: [12] expected=65.849396, actual=-0.000000
*** error: [13] expected=64.768478, actual=-5630224721839517706747904.000000
*** error: [14] expected=63.072510, actual=-851929228183085195162812416.000000
*** error: [15] expected=62.689728, actual=-2.573411
*** error: [16] expected=63.520168, actual=0.000000
*** error: [17] expected=67.945000, actual=1277341824.000000
*** error: [18] expected=60.504547, actual=132972764819181208094884074520313856.000000
*** error: [19] expected=64.926201, actual=-0.000000
*** error: [20] expected=69.295250, actual=0.000002
*** error: [21] expected=67.657814, actual=-0.000003
*** error: [22] expected=64.919113, actual=-11943122305024.000000
*** error: [23] expected=69.139267, actual=2049600532545501904330368980353024.000000
*** error: [24] expected=67.126305, actual=-0.000000
*** error: [25] expected=63.613998, actual=-0.000000
*** error: [26] expected=67.442200, actual=-0.000000
*** error: [27] expected=72.589500, actual=-479057936666276340573556178944.000000
*** error: [28] expected=65.833351, actual=-0.000000
*** error: [29] expected=65.047798, actual=-304799892045145304253355631268855808.000000
*** error: [30] expected=65.011162, actual=-25894920.000000
*** error: [31] expected=64.211609, actual=0.000000
*** error: [32] expected=63.034740, actual=0.000000
*** error: [33] expected=69.796913, actual=-0.000000
*** error: [34] expected=67.494423, actual=0.000001
*** error: [35] expected=63.216373, actual=0.000000
*** error: [36] expected=69.648239, actual=0.000000
*** error: [37] expected=67.747147, actual=-0.000000
*** error: [38] expected=66.975479, actual=-0.000000
*** error: [39] expected=66.296654, actual=-157844647249429900492820166213632.000000
*** error: [40] expected=65.783775, actual=584945889693401088.000000
*** error: [41] expected=66.844017, actual=-0.000000
*** error: [42] expected=65.891029, actual=14255.966797
*** error: [43] expected=68.723076, actual=2648874156032.000000
*** error: [44] expected=63.826866, actual=-0.000000
*** error: [45] expected=69.127205, actual=0.000000
*** error: [46] expected=71.444176, actual=-1041.618896
*** error: [47] expected=70.946045, actual=3441951459518859278548992.000000
*** error: [48] expected=66.545326, actual=-974013086040064.000000
*** error: [49] expected=67.975410, actual=-112799663294933210404749312.000000
*** error: [50] expected=64.468803, actual=-0.000000
*** error: [51] expected=66.708107, actual=805122052212702700371968.000000
*** error: [52] expected=63.683960, actual=-0.100032
*** error: [53] expected=67.679863, actual=-405701704810496.000000
*** error: [54] expected=62.467346, actual=-20901376741605376.000000
*** error: [55] expected=61.582932, actual=2211008227573760.000000
*** error: [56] expected=68.330078, actual=57255803516506931993193218048.000000
*** error: [57] expected=64.039391, actual=-nan
*** error: [58] expected=65.364281, actual=7332644694905585664.000000
*** error: [59] expected=64.773895, actual=-0.000000
*** error: [60] expected=64.958160, actual=-0.000000
*** error: [61] expected=66.569710, actual=-10860164096.000000
*** error: [62] expected=67.371620, actual=0.000000
*** error: [63] expected=67.059410, actual=-145097050528739079676824105240231936.000000
*** error: [64] expected=67.252075, actual=719370112204800.000000
*** error: [65] expected=66.846642, actual=0.000000
*** error: [66] expected=67.379440, actual=-0.000000
*** error: [67] expected=63.142105, actual=0.000004
*** error: [68] expected=62.118992, actual=1.465943
*** error: [69] expected=63.769012, actual=-0.000000
*** error: [70] expected=65.426262, actual=-0.000000
*** error: [71] expected=68.511642, actual=935956651908599382016.000000
*** error: [72] expected=64.282562, actual=-0.000000
*** error: [73] expected=70.162880, actual=1.673994
*** error: [74] expected=63.751030, actual=0.000000
*** error: [75] expected=62.416203, actual=-31871330548154286211072.000000
*** error: [76] expected=64.271095, actual=-632155735778295034900920664064.000000
*** error: [77] expected=65.413033, actual=-1359102.125000
*** error: [78] expected=68.467598, actual=0.000000
*** error: [79] expected=66.664398, actual=-0.000000
*** error: [80] expected=61.540150, actual=-0.000000
*** error: [81] expected=66.454979, actual=-0.000000
*** error: [82] expected=69.064735, actual=16503385620480.000000
*** error: [83] expected=68.474083, actual=176160023458829303808.000000
*** error: [84] expected=67.792496, actual=-34245241234804756115953835976773599232.000000
*** error: [85] expected=70.496002, actual=0.000000
*** error: [86] expected=60.528782, actual=-0.000000
*** error: [87] expected=61.358994, actual=-0.000000
*** error: [88] expected=67.742058, actual=0.000000
*** error: [89] expected=60.602757, actual=-62859436001721319424.000000
*** error: [90] expected=66.800735, actual=-395997760.000000
*** error: [91] expected=66.565834, actual=0.000000
*** error: [92] expected=69.177444, actual=-10050140635136.000000
*** error: [93] expected=65.835297, actual=86226927616.000000
*** error: [94] expected=63.812019, actual=75395906196969685867186428651241472.000000
*** error: [95] expected=65.795578, actual=-18.200947
*** error: [96] expected=68.685654, actual=-0.000026
*** error: [97] expected=64.307503, actual=-1097280.750000
*** error: [98] expected=64.532120, actual=-22677336064.000000
*** error: [99] expected=68.333801, actual=0.000000
cleanup
PERF: core0: instrs=42572700, cycles=23585111, IPC=1.805067
PERF: core1: instrs=42572700, cycles=23585109, IPC=1.805067
PERF: core2: instrs=42572700, cycles=23585108, IPC=1.805067
PERF: core3: instrs=42572700, cycles=23585110, IPC=1.805067
PERF: instrs=170290800, cycles=23585111, IPC=7.220267
Found 65536 errors!
FAILED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
data type: int8_t
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x20000
C_addr=0x30000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 107802 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=42572700, cycles=22536585, IPC=1.889048
PERF: core1: instrs=42572700, cycles=22536583, IPC=1.889049
PERF: core2: instrs=42572700, cycles=22536584, IPC=1.889048
PERF: core3: instrs=42572700, cycles=22571661, IPC=1.886113
PERF: instrs=170290800, cycles=22571661, IPC=7.544451
PASSED!
/home/kejunwu/tools/llvm-vortex/bin/clang++ --sysroot=/home/kejunwu/tools/riscv32-gnu-toolchain/riscv32-unknown-elf --gcc-toolchain=/home/kejunwu/tools/riscv32-gnu-toolchain -Xclang -target-feature -Xclang +vortex -Xclang -target-feature -Xclang +zicond -mllvm -disable-loop-idiom-all  -march=rv32imaf -mabi=ilp32f -O3 -mcmodel=medany -fno-rtti -fno-exceptions -nostartfiles -nostdlib -fdata-sections -ffunction-sections -I/home/kejunwu/vortex/kernel/include -I/home/kejunwu/vortex/build/hw -I/home/kejunwu/vortex/sim/common -DXLEN_32 -DNDEBUG  /home/kejunwu/vortex/tests/regression/sgemm/kernel.cpp -Wl,-Bstatic,--gc-sections,-T,/home/kejunwu/vortex/kernel/scripts/link32.ld,--defsym=STARTUP_ADDR=0x80000000 /home/kejunwu/vortex/build/kernel/libvortex.a -L/home/kejunwu/tools/libc32/lib -lm -lc /home/kejunwu/tools/libcrt32/lib/baremetal/libclang_rt.builtins-riscv32.a -o kernel.elf
OBJCOPY=/home/kejunwu/tools/llvm-vortex/bin/llvm-objcopy /home/kejunwu/vortex/kernel/scripts/vxbin.py kernel.elf kernel.vxbin
LD_LIBRARY_PATH=/home/kejunwu/vortex/build/runtime: VORTEX_DRIVER=simx ./sgemm -n256
open device connection
input type: int8_t
output type: int32_t
matrix size: 256x256
allocate device memory
A_addr=0x10000
B_addr=0x20000
C_addr=0x30000
upload matrix A buffer
upload matrix B buffer
Upload kernel binary
upload kernel argument
start device
wait for completion
Elapsed time: 109189 ms
download destination buffer
verify result
cleanup
PERF: core0: instrs=42605468, cycles=22572989, IPC=1.887454
PERF: core1: instrs=42605468, cycles=22572976, IPC=1.887455
PERF: core2: instrs=42605468, cycles=22572967, IPC=1.887455
PERF: core3: instrs=42605468, cycles=22572968, IPC=1.887455
PERF: instrs=170421872, cycles=22572989, IPC=7.549814
PASSED!
